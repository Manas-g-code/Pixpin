<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/styleP.css">
</head>

<body>

  <div class="navm">
    <div class="box">
      <h3><span class="pix"></span></h3>
    </div>
    <div class="try">

    </div>
    <!-- <a class="p" href="/profile">Profile</a> -->
    <a class="f" href="/feed">Feed</a>
    <a class="addnewPost" href="/add">Create</a>
    <a class="l" href="/logout">Logout</a>
  </div>

  <!-- <div class="cursorr">
    
</div> -->

  <div class="containerr">
    <div class="cardd">
      <form id='profilepic' hidden action="/fileupload" method="post" enctype="multipart/form-data">
        <input type="file" name="image">
      </form>
      <div class="prof">
        <span class="pen">
          <i class="ri-pencil-fill"></i>
        </span>
        <div class="profile-picture">
          <img src="/images/uploadsP/<%= user.dp %>" alt="Profile Picture">
        </div>

      </div>

      <h2 class="name">
        <%=user.fullname%>
      </h2>
      <h3 class="username"> @<%=user.username%>
      </h3>
      <!-- <a class="edit" href="#">Edit</button> -->
        <!-- user can upload posts -->

        <a class="save" href="/saved">Saved Pins</a>

        <!-- <form action="/upload" method="post" enctype="multipart/form-data">
            <input type="text" name="filecaption" placeholder="some caption">
            <input type="file" name="file">
            <input type="submit">
          </form> -->
    </div>
    <div class="profcard">
      <div class="pcard">
        <img class="imgpin" src="/images/uploads/<%= user?.posts[0]?.image %>" alt="">
      </div>
      <a href="/showposts" class="allpins">
        Your Created Pins
      </a>
      <div class="pinsno">
        <%= user.posts.length %> Pins
      </div>
    </div>
  </div>

  <div class="circle">
    <div class="text">
      <p>PIXPIN•Inspiration Elevated, Pin by Pin•</p>

    </div>
  </div>

  <!-- <div class="container">   
    <div class="cards flex">
      <% user.posts.forEach(function(post){%>
        <div class="card" style="width: 18rem;">
          <img src="/images/uploads/<%= post.image %>" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">
              <%= post.imageText %>
            </h5>
          </div>
        </div>
        <% }) %>
    </div>
  </div> -->

  <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script>
    document.querySelector(".pen").addEventListener("click", function () {
      document.querySelector("#profilepic input").click();
    })
    document.querySelector('#profilepic input').addEventListener("change", function () {
      document.querySelector('#profilepic').submit();
    })


    let ref = document.querySelector(".navm h3");
    ref.addEventListener("click", function () {
      location.reload();
    })

    const text = document.querySelector('.text p');
    text.innerHTML = text.innerHTML.split('').map(
      (char, i) =>
        `<span style="transform:rotate(${i * 9}deg)">${char}</span>`
    ).join('');
    // const cur = document.querySelector(".cursorr");
    // const moveCursor = (e) => {
    //   const mouseY = e.clientY;
    //   const mouseX = e.clientX;

    //   cur.style.transform = `translate3d(${mouseX}px, ${mouseY}px, 0)`;
    // }
    // window.addEventListener('mousemove', moveCursor);

    var typed = new Typed('.pix', {
      strings: ["PIXPIN", "pixpin"],
      typeSpeed: 150,
      backSpeed: 150,
      loop: true
    })

  </script>
</body>

</html>